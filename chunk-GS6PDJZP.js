import{a as L}from"./chunk-GIYV7ABN.js";import{a as x,b as c,c as I,d as D,f as w,h as C,i as E,j as F,l as _}from"./chunk-HI2BIXZA.js";import{d as h}from"./chunk-EYZZHLEG.js";import{$a as p,$b as S,Ga as m,La as g,Wa as s,Ya as d,ab as t,bb as e,cb as u,ib as f,jb as v,tb as o,ub as b,wa as a}from"./chunk-NDO7E3F7.js";function N(n,l){n&1&&(t(0,"div",5),o(1,"Email ID or Login ID is required."),e())}function U(n,l){n&1&&(t(0,"div",5),o(1,"Password is required."),e())}function R(n,l){if(n&1&&(t(0,"div",7),o(1),e()),n&2){let i=v();a(),b(i.error)}}var y=class n{constructor(l,i,r){this.fb=l;this.userService=i;this.router=r;this.loginForm=this.fb.group({loginID:["",c.required],password:["",c.required]})}loginForm;submitted=!1;error=null;user=null;get f(){return this.loginForm.controls}submit(){if(this.submitted=!0,this.error=null,this.loginForm.invalid)return;let l={loginID:this.loginForm.value.loginID||"",password:this.loginForm.value.password||""};this.userService.userLogin(l).subscribe({next:i=>{localStorage.setItem("token",i.toString()),window.location.reload()},error:i=>{this.error="Invalid login credentials",console.log(i.message)}})}static \u0275fac=function(i){return new(i||n)(m(F),m(L),m(h))};static \u0275cmp=g({type:n,selectors:[["app-login"]],decls:25,vars:4,consts:[["novalidate","",1,"m-5","p-4","border","rounded","shadow-sm","bg-light","mx-auto",2,"max-width","500px",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"mb-3"],[1,"form-label"],["formControlName","loginID","placeholder","Enter your email or login ID",1,"form-control"],[1,"text-danger","small","mt-1"],["type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"text-danger","mb-3","text-center"],[1,"d-grid"],["type","submit",1,"btn","btn-primary"],[1,"text-center","mt-3"],["href","/forgot",1,"text-decoration-none"],[1,"text-center","mt-2"],["href","/register",1,"text-decoration-none"]],template:function(i,r){i&1&&(t(0,"form",0),f("ngSubmit",function(){return r.submit()}),t(1,"h2",1),o(2,"Login"),e(),t(3,"div",2)(4,"label",3),o(5,"Email ID / Login ID"),e(),u(6,"input",4),s(7,N,2,0,"div",5),e(),t(8,"div",2)(9,"label",3),o(10,"Password"),e(),u(11,"input",6),s(12,U,2,0,"div",5),e(),s(13,R,2,1,"div",7),t(14,"div",8)(15,"button",9),o(16,"Login"),e()(),t(17,"div",10)(18,"a",11),o(19,"Forgot Password?"),e()(),t(20,"div",12)(21,"span"),o(22,"Don't have an account? "),e(),t(23,"a",13),o(24,"Register"),e()()()),i&2&&(p("formGroup",r.loginForm),a(7),d((r.f.loginID.touched||r.submitted)&&r.f.loginID.invalid?7:-1),a(5),d((r.f.password.touched||r.submitted)&&r.f.password.invalid?12:-1),a(),d(r.error?13:-1))},dependencies:[S,_,w,x,I,D,E,C],encapsulation:2})};export{y as Login};
