<div class="list-container">

    @if (isAdmin) {
        <form class="search-form row w-100" [formGroup]="addMovieForm">
            <div class="card mb-3">
                <div class="card-body">
                    <div class="d-flex justify-content-center mb-3">
                        <span class="fw-bold">Add New Movie</span>
                    </div>
                <div class="row">
                    <div class="col-md-3 mb-2">
                        <label class="form-label ms-1 fw-semibold">Movie Name</label>
                        <input type="text" class="form-control" placeholder="New Movie Name"
                        formControlName='addMovieMovieName'>
                    </div>
                    <div class="col-md-4 mb-2">
                        <label class="form-label ms-1 fw-semibold">Theatre Name</label>
                        <input type="text" class="form-control" placeholder="Movie Theatre Name"
                        formControlName='addMovieTheatreName'>
                    </div>
                    <div class="col-md-3 mb-2">
                        <label class="form-label ms-1 fw-semibold">Tickets to Alot</label>
                        <input type="number" class="form-control" placeholder="Movie Tickets to Alot"
                        formControlName='addMovieTicketsAllotted'>
                    </div>
                    <div class="col-md-2">
                        <button class="btn btn-success w-100" (click)="addMovie()">Add Movie</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
}

    <form class="search-form row w-100" [formGroup]="searchForm" (ngSubmit)="onInput()">
    <div class="card mb-3">
        <div class="card-body">
                <div class="row">
                    <div class="col-md-5 mb-2">
                        <label class="form-label fw-bold ms-1">Movie Name</label>
                        <input type="text" class="form-control" placeholder="Search by Movie Name"
                        formControlName='searchMovieName'>
                    </div>
                    <div class="col-md-5 mb-2">
                        <label class="form-label fw-bold ms-1">Theatre Name</label>
                        <input type="text" class="form-control" placeholder="Search by Theatre Name"
                            formControlName='searchTheatreName'>
                    </div>
                    <div class="col-md-2 d-flex align-items-end mb-2">
                        <button class="btn btn-primary w-100" (click)="onInput()">Search</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

    @if (movies$ | async) {
        @for (movie of movies$ | async; track movie.movieName + "|" + movie.theatreName) {
            <app-movie-card [movie]="movie" [isAdmin]="isAdmin"></app-movie-card>
        }
    }
    @else {
        <div class="text-center text-muted mt-4">No Movies Found!</div>
    }
</div>